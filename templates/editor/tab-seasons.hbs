<section class="tab {{tab.cssClass}}" data-tab="{{tab.id}}" data-group="{{tab.group}}">
  <div class="season-global-config">
    <div class="form-group">
      <label for="editor-season-type">{{localize "CALENDARIA.Editor.Season.TypeLabel"}}</label>
      <div class="form-fields">
        <select id="editor-season-type" name="seasons.type" class="season-type-select">
          {{#each seasonTypeOptions}}
            <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{localize this.label}}</option>
          {{/each}}
        </select>
      </div>
      <p class="hint">{{localize "CALENDARIA.Editor.Hint.SeasonType"}}</p>
    </div>

    {{#if isPeriodic}}
      <div class="form-group">
        <label for="editor-season-offset">{{localize "CALENDARIA.Editor.Season.OffsetLabel"}}</label>
        <div class="form-fields">
          <input type="number" id="editor-season-offset" name="seasons.offset" value="{{seasonOffset}}" min="0">
        </div>
        <p class="hint">{{localize "CALENDARIA.Editor.Hint.SeasonOffset"}}</p>
      </div>
    {{/if}}
  </div>

  <p class="hint seasons-hint">{{localize "CALENDARIA.Editor.Hint.SeasonalType"}}</p>

  {{#if seasonsWithNav.length}}
    <div class="seasons-columns">
      {{#each seasonsWithNav}}
        <div class="season-column" style="--season-color: {{#if this.color}}{{this.color}}{{else}}var(--color-cool-4){{/if}}">
          <input type="text" name="seasons.{{this.index}}.name" value="{{this.name}}"
            placeholder="{{localize 'CALENDARIA.Common.Name'}}">
          <input type="text" name="seasons.{{this.index}}.abbreviation" value="{{this.abbreviation}}"
            placeholder="{{localize 'CALENDARIA.Common.Abbreviation'}}">

          <div class="season-icon-color">
            <input type="text" name="seasons.{{this.index}}.icon" value="{{this.icon}}"
              placeholder="fas fa-leaf" data-tooltip="{{localize 'CALENDARIA.Common.IconHint'}}">
            <input type="color" name="seasons.{{this.index}}.color"
              value="{{#if this.color}}{{this.color}}{{else}}#808080{{/if}}">
          </div>

          {{#if ../isPeriodic}}
            <div class="season-duration">
              <label>{{localize "CALENDARIA.Editor.Field.Duration"}}</label>
              <input type="number" name="seasons.{{this.index}}.duration" value="{{this.duration}}" min="1"
                placeholder="91">
            </div>
          {{else}}
            <div class="season-dates">
              <div class="season-date-row">
                <label>{{localize "CALENDARIA.Common.Start"}}</label>
                <select name="seasons.{{this.index}}.monthStart">
                  {{#each this.startMonthOptions}}
                    <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{this.label}}</option>
                  {{/each}}
                </select>
                <input type="number" name="seasons.{{this.index}}.dayStart" value="{{this.displayStartDay}}" min="1"
                  placeholder="{{localize 'CALENDARIA.Common.Day'}}">
              </div>
              <div class="season-date-row">
                <label>{{localize "CALENDARIA.Common.End"}}</label>
                <select name="seasons.{{this.index}}.monthEnd">
                  {{#each this.endMonthOptions}}
                    <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{this.label}}</option>
                  {{/each}}
                </select>
                <input type="number" name="seasons.{{this.index}}.dayEnd" value="{{this.displayEndDay}}" min="1"
                  placeholder="{{localize 'CALENDARIA.Common.Day'}}">
              </div>
            </div>
          {{/if}}

          <div class="season-type-selector">
            <select name="seasons.{{this.index}}.seasonalType">
              {{#each this.seasonalTypeOptions}}
                <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{localize this.label}}</option>
              {{/each}}
            </select>
          </div>

          <div class="season-controls">
            <button type="button" data-action="removeSeason" data-index="{{this.index}}" data-tooltip
              aria-label="{{localize 'CALENDARIA.Editor.Tooltip.RemoveSeason'}}">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
      {{/each}}
    </div>

    <div class="season-add-container">
      <button type="button" data-action="addSeason" data-index="{{lastSeasonIndex}}">
        <i class="fas fa-plus"></i>
        {{localize "CALENDARIA.Editor.AddSeason"}}
      </button>
    </div>
  {{else}}
    <div class="empty-list">
      <p>{{localize "CALENDARIA.Editor.NoSeasons"}}</p>
      <button type="button" data-action="addSeason" data-index="-1">
        <i class="fas fa-plus"></i>
        {{localize "CALENDARIA.Editor.AddSeason"}}
      </button>
    </div>
  {{/if}}
</section>
