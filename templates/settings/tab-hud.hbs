<section class="tab {{tab.cssClass}}" data-tab="{{tab.id}}" data-group="{{tab.group}}">

  <div class="button-row open-app-button">
    <button type="button" data-action="openHUD">
      <i class="fas fa-external-link-alt"></i>
      {{localize "CALENDARIA.Common.Open"}}
    </button>
    <button type="button" data-action="closeHUD">
      <i class="fas fa-times"></i>
      {{localize "CALENDARIA.Common.Close"}}
    </button>
  </div>

  <fieldset>
    <legend>{{localize "CALENDARIA.SettingsPanel.Section.Display"}}</legend>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.ShowCalendarHUD.Name"}}</label>
      <div class="form-fields">
        <input type="checkbox" name="showCalendarHUD" {{#if showCalendarHUD}}checked{{/if}}>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.ShowCalendarHUD.Hint"}}</p>
    </div>

    {{#if isGM}}
    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.ForceHUD.Name"}}</label>
      <div class="form-fields">
        <input type="checkbox" name="forceHUD" {{#if forceHUD}}checked{{/if}}>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.ForceHUD.Hint"}}</p>
    </div>
    {{/if}}

    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.CalendarHUDMode.Name"}}</label>
      <div class="form-fields">
        <select name="calendarHUDMode">
          {{#each hudModeOptions}}
          <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{this.label}}</option>
          {{/each}}
        </select>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.CalendarHUDMode.Hint"}}</p>
    </div>
  </fieldset>

  <fieldset>
    <legend>{{localize "CALENDARIA.SettingsPanel.Section.BlockVisibility"}}</legend>
    <p class="hint section-hint">{{localize "CALENDARIA.SettingsPanel.Hint.BlockVisibility"}}</p>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.HUDShowWeather.Name"}}</label>
      <div class="form-fields">
        <input type="checkbox" name="hudShowWeather" {{#if hudShowWeather}}checked{{/if}}>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.HUDShowWeather.Hint"}}</p>
    </div>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.HUDWeatherDisplayMode.Name"}}</label>
      <div class="form-fields">
        <select name="hudWeatherDisplayMode">
          {{#each weatherDisplayModeOptions}}
          <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{this.label}}</option>
          {{/each}}
        </select>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.HUDWeatherDisplayMode.Hint"}}</p>
    </div>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.HUDShowSeason.Name"}}</label>
      <div class="form-fields">
        <input type="checkbox" name="hudShowSeason" {{#if hudShowSeason}}checked{{/if}}>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.HUDShowSeason.Hint"}}</p>
    </div>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.HUDSeasonDisplayMode.Name"}}</label>
      <div class="form-fields">
        <select name="hudSeasonDisplayMode">
          {{#each seasonDisplayModeOptions}}
          <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{this.label}}</option>
          {{/each}}
        </select>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.HUDSeasonDisplayMode.Hint"}}</p>
    </div>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Settings.HUDShowEra.Name"}}</label>
      <div class="form-fields">
        <input type="checkbox" name="hudShowEra" {{#if hudShowEra}}checked{{/if}}>
      </div>
      <p class="hint">{{localize "CALENDARIA.Settings.HUDShowEra.Hint"}}</p>
    </div>
  </fieldset>

  <fieldset>
    <legend>{{localize "CALENDARIA.SettingsPanel.Section.StickyStates"}}</legend>
    <input type="hidden" name="hudStickySection" value="1">

    <div class="form-group">
      <label>{{localize "CALENDARIA.SettingsPanel.Sticky.Tray"}}</label>
      <div class="form-fields">
        <input type="checkbox" name="hudStickyTray" {{#if hudStickyTray}}checked{{/if}}>
      </div>
      <p class="hint">{{localize "CALENDARIA.SettingsPanel.Hint.StickyTray"}}</p>
    </div>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Common.LockPosition"}}</label>
      <div class="form-fields">
        <input type="checkbox" name="calendarHUDLocked" {{#if calendarHUDLocked}}checked{{/if}}>
      </div>
      <p class="hint">{{localize "CALENDARIA.SettingsPanel.Hint.LockHUDPosition"}}</p>
    </div>
  </fieldset>

  {{#if isGM}}
  <fieldset>
    <legend>{{localize "CALENDARIA.SettingsPanel.Section.CustomTimeJumps"}}</legend>
    <p class="hint section-hint">{{localize "CALENDARIA.SettingsPanel.Hint.CustomTimeJumps"}}</p>

    {{#each customTimeJumps}}
    <div class="form-group custom-time-jumps-row">
      <label>{{label}}</label>
      <div class="form-fields custom-jumps-inputs">
        <input type="number" name="customTimeJumps.{{key}}.dec2" value="{{jumps.dec2}}" placeholder="-" class="jump-input">
        <input type="number" name="customTimeJumps.{{key}}.dec1" value="{{jumps.dec1}}" placeholder="-" class="jump-input">
        <span class="jump-separator">/</span>
        <input type="number" name="customTimeJumps.{{key}}.inc1" value="{{jumps.inc1}}" placeholder="+" class="jump-input">
        <input type="number" name="customTimeJumps.{{key}}.inc2" value="{{jumps.inc2}}" placeholder="+" class="jump-input">
      </div>
    </div>
    {{/each}}
  </fieldset>
  {{/if}}

  <fieldset>
    <legend>{{localize "CALENDARIA.SettingsPanel.Section.Position"}}</legend>

    <div class="button-row">
      <button type="button" data-action="resetPosition" data-target="hud">
        <i class="fas fa-undo"></i>
        {{localize "CALENDARIA.Common.ResetPosition"}}
      </button>
    </div>
  </fieldset>

</section>
